{% load static %}
<header class="header">
    <nav class="nav">
        <ul class="nav-menu">
            <li class="nav-item">
                <a href="/" class="nav-link">–ì–ª–∞–≤–Ω–∞—è</a>
            </li>
            <li class="nav-item">
                <a href="/prices/" class="nav-link">–£—Å–ª—É–≥–∏ –∏ —Ü–µ–Ω—ã</a>
            </li>
        </ul>
        <div class="nav-auth">
            {% if user.is_authenticated %}
                <div class="user-menu">
                    <div class="user-info">
                        <span class="user-avatar">{{ user.username|first|upper }}</span>
                        <span class="user-name">{{ user.username|truncatechars:15 }}</span>
                    </div>
                    <div class="dropdown-content">
                        <a href="/profile/" class="dropdown-item">
                            <span class="dropdown-icon">‚öôÔ∏è</span>
                            –ü—Ä–æ—Ñ–∏–ª—å
                        </a>
                        <a href="/logout/" class="dropdown-item logout-item" onclick="return confirmLogout()">
                            <span class="dropdown-icon">üö™</span>
                            –í—ã–π—Ç–∏
                        </a>
                    </div>
                </div>
            {% else %}
                <div class="auth-links">
                    <a href="/login/" class="auth-link login-link">–í–æ–π—Ç–∏</a>
                    <a href="/register/" class="auth-link register-link">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</a>
                </div>
            {% endif %}
        </div>
    </nav>
</header>

<script>
    // –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –≤—ã—Ö–æ–¥–∞
    function confirmLogout() {
        const confirmed = confirm("–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ –≤—ã–π—Ç–∏ –∏–∑ —Å–∏—Å—Ç–µ–º—ã?");
        if (confirmed) {
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –æ –≤—ã—Ö–æ–¥–µ
            showNotification('–í—ã –≤—ã—Ö–æ–¥–∏—Ç–µ –∏–∑ —Å–∏—Å—Ç–µ–º—ã...', 'info');
            return true;
        }
        return false;
    }

    // –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
    function showNotification(message, type = 'info') {
        const notification = document.createElement('div');
        notification.className = `notification notification-${type}`;
        notification.textContent = message;
        notification.style.cssText = `
            position: fixed;
            top: 100px;
            right: 20px;
            background: rgba(26, 26, 26, 0.95);
            color: white;
            padding: 1rem 2rem;
            border-radius: 8px;
            border-left: 4px solid #666;
            z-index: 9999;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            animation: slideIn 0.3s ease-out;
        `;

        document.body.appendChild(notification);

        setTimeout(() => {
            notification.style.animation = 'slideOut 0.3s ease-out forwards';
            setTimeout(() => notification.remove(), 300);
        }, 2000);
    }

    // –î–æ–±–∞–≤–ª—è–µ–º —Å—Ç–∏–ª–∏ –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–∏
    const style = document.createElement('style');
    style.textContent = `
        @keyframes slideIn {
            from {
                transform: translateX(100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        @keyframes slideOut {
            from {
                transform: translateX(0);
                opacity: 1;
            }
            to {
                transform: translateX(100%);
                opacity: 0;
            }
        }

        .notification-info {
            border-left-color: #2196F3 !important;
        }
    `;
    document.head.appendChild(style);
</script>